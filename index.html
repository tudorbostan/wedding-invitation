<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wedding Invitation | Ana & Codrin</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;1,400&family=Montserrat:wght@300;400&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --env-color: #1e2419;
            --env-flap: #2a3224;
            --card-bg: #fdfcf0;
            --ivory: #faf9f6;
            --gold: #c5a059;
            --text: #2c3e50;
            --max-content: 900px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Playfair Display', serif;
            overflow-x: hidden;
            background-color: #f4efdf;
            color: var(--text);
        }

        /* --- STAGE 1: ENVELOPE (Strictly Unchanged) --- */
        #stage-envelope {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            perspective: 1000px;
            padding: 20px;
        }

        .envelope-wrapper {
            position: relative;
            width: 300px;
            height: 200px;
            background-color: var(--env-color);
            cursor: pointer;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
        }

        .flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-top: 100px solid var(--env-flap);
            transform-origin: top;
            transition: transform 0.8s ease-in-out;
            z-index: 4;
        }

        .pocket {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-bottom: 110px solid var(--env-color);
            z-index: 3;
        }

        .pocket-sides {
            position: absolute;
            bottom: 0;
            width: 300px;
            height: 200px;
            background: var(--env-color);
            clip-path: polygon(0 0, 150px 100px, 100% 0, 100% 100%, 0 100%);
            z-index: 2;
        }

        .wax-seal {
            position: absolute;
            top: 78px;
            left: 118px;
            width: 64px;
            height: 64px;
            border-radius: 50%;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Cinzel';
            font-weight: 700;
            font-size: 13px;
            letter-spacing: 1px;
            background: radial-gradient(circle at 30% 30%, #f4dca3 0%, #e0be78 35%, #b38942 70%, #8a6229 100%);
            box-shadow: 0 10px 18px rgba(0, 0, 0, 0.45), inset 0 4px 6px rgba(255, 255, 255, 0.25), inset 0 -6px 10px rgba(0, 0, 0, 0.35);
            transform: rotate(-4deg);
            transition: transform 0.3s ease, opacity 0.5s ease;
        }

        .wax-seal::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            box-shadow: 0 2px 0 rgba(255, 255, 255, 0.12) inset, 0 -2px 8px rgba(0, 0, 0, 0.18) inset;
            background: radial-gradient(circle at 40% 30%, rgba(255, 255, 255, 0.06) 0%, transparent 30%);
            pointer-events: none;
        }

        .wax-seal::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 78%;
            height: 78%;
            border-radius: 50%;
            box-shadow: inset 0 6px 8px rgba(0, 0, 0, 0.35), inset 0 -6px 10px rgba(255, 255, 255, 0.06);
            background: radial-gradient(circle at 50% 45%, rgba(0, 0, 0, 0.06) 0%, transparent 55%);
            mix-blend-mode: multiply;
            pointer-events: none;
        }

        .wax-seal .stamp {
            position: relative;
            z-index: 12;
            transform: translateY(1px);
            color: rgba(0, 0, 0, 0.6);
            font-size: 13px;
            font-weight: 700;
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.06), 0 -3px 6px rgba(0, 0, 0, 0.45);
            letter-spacing: 1px;
            user-select: none;
        }

        .wax-drip {
            position: absolute;
            bottom: -6px;
            left: 54%;
            width: 6px;
            height: 10px;
            border-radius: 4px/6px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(0, 0, 0, 0.18));
            transform: rotate(-8deg);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.35);
        }

        .letter {
            position: absolute;
            bottom: 10px;
            left: 10px;
            width: 280px;
            height: 180px;
            padding: 20px;
            text-align: center;
            box-sizing: border-box;
            transition: transform 0.8s ease-in-out;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .letter::before {
            content: "";
            position: absolute;
            inset: 0;
            background-color: var(--card-bg);
            z-index: 0;
            border: 1px solid var(--gold);
        }

        .envelope-wrapper.open .flap {
            transform: rotateX(180deg);
            z-index: 0;
        }

        .envelope-wrapper.open .wax-seal {
            opacity: 0;
            pointer-events: none;
        }

        .envelope-wrapper.open .letter {
            transform: translateY(-120px) scale(1.1);
            z-index: 5;
        }

        /* --- STAGE 2: FULL INVITE --- */
        .full-invite {
            display: none;
            background: var(--ivory);
            min-height: 100vh;
            flex-direction: column;
            align-items: center;
            text-align: center;
            width: 100%;
        }

        /* --- NAVIGATION --- */
        .top-nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(250, 249, 246, 0.95);
            backdrop-filter: blur(5px);
            z-index: 100;
            transition: 0.5s;
            opacity: 0;
            transform: translateY(-100%);
            border-bottom: 1px solid rgba(197, 160, 89, 0.3);
        }

        .top-nav.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .top-nav ul {
            display: flex;
            justify-content: center;
            align-items: center;
            list-style: none;
            padding: 20px;
            margin: 0;
            gap: 40px;
        }

        .top-nav ul li {
            display: flex;
            align-items: center;
            height: 1.5rem;
        }

        .top-nav a {
            text-decoration: none;
            font-family: 'Cinzel';
            color: var(--env-color);
            font-size: 0.75rem;
            letter-spacing: 2px;
            font-weight: 700;
        }

        .lang-switch {
            margin-left: -20px;
            /* Adjust for the gap */
            border-left: 1px solid rgba(197, 160, 89, 0.3);
            padding-left: 20px;
            gap: 8px;
        }

        .lang-switch span {
            color: var(--gold);
            font-family: 'Cinzel';
            font-size: 0.75rem;
            line-height: 1;
            opacity: 0.6;
        }

        /* --- HERO --- */
        .hero-section {
            width: 100%;
            background-image: url("bg-us-3.jpeg");
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
            height: 200px;
            transition: height 1.4s cubic-bezier(.25, .9, .25, 1);
            display: flex;
            justify-content: center;
            align-items: center;
            border-bottom: 4px double var(--gold);
        }

        .hero-section.revealed {
            height: 105vh;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom,
                    rgba(0, 0, 0, 0.5) 0%,
                    rgba(0, 0, 0, 0.2) 30%,
                    rgba(0, 0, 0, 0.2) 70%,
                    rgba(0, 0, 0, 0.6) 100%);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            color: white;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
            padding-top: 120px;
        }

        .hero-content h1 {
            font-size: clamp(2.5rem, 10vw, 5rem);
            margin: 0;
            text-shadow: 0 4px 15px rgba(0, 0, 0, 0.8), 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .hero-content p,
        .hero-content .ornament {
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
        }

        /* --- CONTENT DESIGN --- */
        .content-container {
            max-width: var(--max-content);
            width: 100%;
            padding: 40px 20px;
        }

        .section {
            padding: 80px 40px;
            margin-bottom: 40px;
            background: white;
            border: 1px solid rgba(197, 160, 89, 0.2);
            position: relative;
            animation: fadeIn 1.5s;
        }

        /* Decorative Corners */
        .section::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 1px solid rgba(197, 160, 89, 0.1);
            pointer-events: none;
        }

        h2 {
            font-family: 'Cinzel';
            color: var(--gold);
            font-size: 2.2rem;
            margin-bottom: 20px;
            letter-spacing: 3px;
        }

        .ornament {
            color: var(--gold);
            font-size: 1.5rem;
            margin: 20px 0;
        }

        .location-card {
            margin-bottom: 60px;
        }

        .map-frame {
            width: 100%;
            height: 400px;
            border: 1px solid var(--gold);
            margin-top: 25px;
            filter: grayscale(0.2);
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-row .form-group {
            flex: 1;
        }

        /* --- RSVP FORM --- */
        form {
            background: transparent;
            text-align: left;
            max-width: 600px;
            margin: 0 auto;
        }

        .guest-box {
            padding: 30px;
            border: 1px solid rgba(197, 160, 89, 0.2);
            margin-bottom: 30px;
            background: var(--ivory);
        }

        .form-group label {
            font-family: 'Cinzel';
            font-size: 0.7rem;
            letter-spacing: 1px;
            color: var(--gold);
            font-weight: bold;
        }

        input,
        select {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            background: white;
            font-family: 'Playfair Display';
            font-size: 1rem;
            margin-top: 8px;
            transition: border 0.3s;
        }

        input:focus {
            border-color: var(--gold);
            outline: none;
        }

        .submit-btn {
            background: var(--env-color);
            color: white;
            border: 1px solid var(--gold);
            padding: 22px;
            width: 100%;
            cursor: pointer;
            font-family: 'Cinzel';
            letter-spacing: 4px;
            font-weight: 700;
            transition: 0.4s;
        }

        .submit-btn:hover {
            background: var(--gold);
            color: white;
        }

        /* --- COUNTDOWN --- */
        #countdown {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 20px;
            margin-bottom: 60px;
        }


        .time-box {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            min-width: 100px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .time-box span {
            display: block;
            font-family: 'Cinzel';
            font-size: 2.5rem;
            color: white;
        }

        .time-box label {
            font-size: 0.65rem;
            color: white;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        @media (max-width: 768px) {
            .section {
                padding: 40px 15px;
            }

            .hero-section {
                background-attachment: scroll;
                background-position: center center;
            }

            .hero-section.revealed {
                height: 100vh;
                height: 100dvh;
            }

            .hero-content h1 {
                font-size: clamp(1.8rem, 10vw, 3rem);
            }

            [data-key="hero-date"] {
                letter-spacing: 2px !important;
                font-size: 0.9rem !important;
                padding: 0 10px;
            }

            .hero-content {
                padding-top: 80px;
            }

            #countdown {
                margin-bottom: 30px;
                gap: 5px;
            }

            .time-box {
                min-width: 60px;
                padding: 10px 2px;
            }

            .time-box span {
                font-size: 1.5rem;
            }

            .time-box label {
                font-size: 0.55rem;
                letter-spacing: 1px;
            }

            .top-nav ul {
                padding: 12px 5px;
                gap: 8px;
            }

            .top-nav a {
                font-size: 0.58rem;
                letter-spacing: 0.5px;
            }

            .top-nav ul li {
                height: auto;
            }

            .lang-switch {
                margin-left: 0 !important;
                padding-left: 10px !important;
                gap: 5px;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .map-frame {
                height: 250px;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <nav class="top-nav">
        <ul>
            <li><a href="#home" data-key="nav-home">ACASĂ</a></li>
            <li><a href="#description" data-key="nav-story">POVESTEA</a></li>
            <li><a href="#location" data-key="nav-details">DETALII</a></li>
            <li><a href="#confirmation" data-key="nav-rsvp">RSVP</a></li>
            <li class="lang-switch">
                <a href="#" onclick="switchLang('en'); return false;" id="lang-en" style="opacity: 0.5;">EN</a>
                <span>|</span>
                <a href="#" onclick="switchLang('ro'); return false;" id="lang-ro" style="opacity: 1;">RO</a>
            </li>
        </ul>
    </nav>

    <div id="stage-envelope">
        <div class="envelope-wrapper" id="envelope" onclick="openEnvelope()">
            <div class="flap"></div>
            <div class="wax-seal" aria-hidden="true">
                <span class="stamp">A & C</span>
                <div class="wax-drip"></div>
            </div>
            <div class="pocket"></div>
            <div class="pocket-sides"></div>
            <div class="letter">
                <div class="letter-photo"></div>
                <div style="position:relative; z-index:2">
                    <p style="font-size:0.6rem; letter-spacing:3px; margin:0; color: var(--gold);"
                        data-key="wedding-of">INVITAȚIE NUNTǍ</p>
                    <h2 style="margin:10px 0; font-size: 1.5rem;" data-key="couple-names">Ana & Codrin</h2>
                    <p style="font-size:0.8rem; margin:0;" data-key="hero-date-short">12 . 09 . 2026</p>
                </div>
            </div>
        </div>
        <p id="tap-text"
            style="color:var(--env-color); margin-top:100px; letter-spacing:4px; font-size:0.75rem; font-family: 'Cinzel'; font-weight: bold;"
            data-key="tap-to-unveil">
            APASĂ PENTRU A DEZVĂLUI</p>
    </div>

    <div class="full-invite" id="fullInvite">
        <div class="hero-section" id="home">
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <h1 data-key="couple-names">Ana & Codrin</h1>
                <div style="margin-top: auto; margin-bottom: 20px;">
                    <p data-key="hero-date"
                        style="letter-spacing:8px; font-family: 'Cinzel'; font-size:1.4rem; margin: 0; font-weight: bold; text-shadow: 0 4px 15px rgba(0,0,0,0.9), 0 2px 5px rgba(0,0,0,0.8);">
                        SÂMBĂTĂ, 12 SEPTEMBRIE 2026
                    </p>
                </div>

                <div id="countdown">
                    <div class="time-box">
                        <span id="days">0</span>
                        <label data-key="days">Zile</label>
                    </div>
                    <div class="time-box">
                        <span id="hours">0</span>
                        <label data-key="hours">Ore</label>
                    </div>
                    <div class="time-box">
                        <span id="minutes">0</span>
                        <label data-key="mins">Min</label>
                    </div>
                    <div class="time-box">
                        <span id="seconds">0</span>
                        <label data-key="secs">Sec</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-container">
            <div class="section" id="description">
                <h2 data-key="story-title">Sărbătorește alături de noi</h2>
                <div class="ornament">❦</div>
                <p data-key="story-text"
                    style="font-size: 1.2rem; line-height: 2; max-width: 700px; margin: 10px auto 40px; font-style: italic;">
                    Alături de dragii noștri părinți și nași, vă invităm să ne fiți alături în momentul în care vom
                    spune „DA” și vom porni împreună la drum. Ceea ce a început ca o simplă întâlnire s-a transformat
                    într-o călătorie plină de râsete, aventură și sprijin necondiționat. Prezența voastră în această zi
                    specială înseamnă mai mult pentru noi decât pot exprima cuvintele.
                </p>

                <div class="family-info"
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; max-width: 700px; margin: 0 auto; border-top: 1px solid rgba(197, 160, 89, 0.2); padding-top: 40px;">
                    <div>
                        <h3 data-key="parents"
                            style="font-family: 'Cinzel'; font-size: 0.8rem; letter-spacing: 3px; color: var(--gold); margin-bottom: 15px;">
                            PĂRINȚI</h3>
                        <p style="margin: 8px 0; font-size: 1.05rem;" data-key="parents-1">Mariana & Grigore Istrate</p>
                        <p style="margin: 8px 0; font-size: 1.05rem;" data-key="parents-2">Carmen & Iulian Bostan</p>
                    </div>
                    <div>
                        <h3 data-key="godparents"
                            style="font-family: 'Cinzel'; font-size: 0.8rem; letter-spacing: 3px; color: var(--gold); margin-bottom: 15px;">
                            NAȘI</h3>
                        <p style="margin: 8px 0; font-size: 1.05rem;" data-key="godparents-names">Claudia & Dan Bǎcanu
                        </p>
                    </div>
                </div>
            </div>
            <div class="section" id="location">
                <div class="location-card">
                    <h2 data-key="ceremony-title">Cununia Religioasă</h2>
                    <p style="font-size: 1.3rem;"><strong data-key="ceremony-church">Biserica Sfânta Treime</strong></p>
                    <p style="letter-spacing: 2px;" data-key="ceremony-time">14:45</p>
                    <p style="letter-spacing: 2px;" data-key="ceremony-addr">CALEA 13 SEPTEMBRIE 211, BUCUREȘTI</p>
                    <div class="map-frame">
                        <iframe
                            src="https://maps.google.com/maps?q=Biserica%20Sfanta%20Treime%20Ghencea%20Bucuresti&t=&z=15&ie=UTF8&iwloc=&output=embed"
                            width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                </div>

                <div class="ornament" style="margin: 80px 0;">✧ ✧ ✧</div>

                <div class="location-card">
                    <h2 data-key="party-title">Petrecerea</h2>
                    <p style="font-size: 1.3rem;"><strong data-key="party-venue">Lagoo Snagov, Salon Luna</strong></p>
                    <p style="letter-spacing: 2px;" data-key="party-time">19:30</p>
                    <p style="letter-spacing: 2px;" data-key="party-addr">DJ101B, COMUNCA SNAGOV 077165</p>
                    <div class="map-frame">
                        <iframe
                            src="https://maps.google.com/maps?q=Lagoo%20Snagov%2C%20DJ101B%2C%20Comuna%20Snagov%20077165%2C%20Romania&z=15&output=embed"
                            width="100%" height="100%" style="border:0" loading="lazy" allowfullscreen>
                        </iframe>

                    </div>
                </div>
            </div>

            <div class="section" id="confirmation">
                <h2 data-key="rsvp-title">Confirmare Rǎspuns</h2>
                <p style="margin-bottom: 40px; font-style: italic;" data-key="rsvp-deadline">Vă rugăm să răspundeți până
                    la 1 august 2026</p>

                <form id="rsvpForm">
                    <div class="form-group" style="margin-bottom:30px;">
                        <label data-key="label-guests">Număr total de invitați</label>
                        <select id="guestCount" onchange="updateGuestFields()">
                            <option value="1" data-key="opt-1person">1 Persoană</option>
                            <option value="2" data-key="opt-2people">2 Persoane</option>
                        </select>
                    </div>

                    <div class="guest-box">
                        <span
                            style="font-family: 'Cinzel'; color: var(--gold); display: block; margin-bottom: 15px; font-weight: bold;"
                            data-key="guest-one">INVITAT 1</span>
                        <div class="form-row">
                            <div class="form-group">
                                <label data-key="first-name">Prenume</label>
                                <input type="text" id="f1" required placeholder="Introdu prenumele..." />
                            </div>
                            <div class="form-group">
                                <label data-key="family-name">Nume de familie</label>
                                <input type="text" id="l1" required placeholder="Introdu numele..." />
                            </div>
                        </div>
                        <div class="form-group" style="margin-top:15px;">
                            <label data-key="menu-choice">Opțiune Meniu</label>
                            <select id="m1">
                                <option value="Standard" data-key="opt-standard">Meniu Standard</option>
                                <option value="Vegetarian" data-key="opt-vegetarian">Meniu Vegetarian</option>
                            </select>
                        </div>
                    </div>

                    <div id="guest2Area" class="guest-box" style="display:none;">
                        <span
                            style="font-family: 'Cinzel'; color: var(--gold); display: block; margin-bottom: 15px; font-weight: bold;"
                            data-key="guest-two">INVITAT 2</span>
                        <div class="form-row">
                            <div class="form-group">
                                <label data-key="first-name">Prenume</label>
                                <input type="text" id="f2" placeholder="Introdu prenumele..." />
                            </div>
                            <div class="form-group">
                                <label data-key="family-name">Nume de familie</label>
                                <input type="text" id="l2" placeholder="Introdu numele..." />
                            </div>
                        </div>
                        <div class="form-group" style="margin-top:15px;">
                            <label data-key="menu-choice">Opțiune Meniu</label>
                            <select id="m2">
                                <option value="Standard" data-key="opt-standard">Meniu Standard</option>
                                <option value="Vegetarian" data-key="opt-vegetarian">Meniu Vegetarian</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group" style="margin-bottom:30px;">
                        <label data-key="label-children">Număr de copii</label>
                        <input type="number" id="child" value="0" min="0" />
                    </div>

                    <button type="submit" class="submit-btn" id="subBtn" data-key="submit-btn">TRIMITE
                        RĂSPUNSUL</button>
                </form>

                <h3 id="thankYou" style="display:none; color: var(--gold); margin-top:20px; font-family: 'Cinzel';"
                    data-key="thank-you">Am primit răspunsul tău. Mulțumim!</h3>
            </div>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="the_mountain-wedding-455512.mp3" type="audio/mpeg">
    </audio>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbwl-z6Cae-KvhixU16BMPVWhHTvoTgB5DvJIfYREaR6BbM293wOsYCL0bOFfdObNZ9tjg/exec';
        let currentLang = 'ro';

        const translations = {
            'en': {
                'title': 'Wedding Invitation | Ana & Codrin',
                'nav-home': 'HOME', 'nav-story': 'STORY', 'nav-details': 'DETAILS', 'nav-rsvp': 'RSVP',
                'tap-to-unveil': 'TAP TO UNVEIL', 'wedding-of': 'THE WEDDING OF',
                'couple-names': 'Ana & Codrin',
                'hero-date': 'SATURDAY, SEPTEMBER 12, 2026', 'hero-date-short': '12 . 09 . 2026',
                'days': 'Days', 'hours': 'Hours', 'mins': 'Mins', 'secs': 'Secs',
                'story-title': 'Celebrate With Us',
                'story-text': 'Alongside our beloved parents and godparents, join us as we say “I do” and start our life together. What started as a simple meeting grew into a journey filled with laughter, adventure and endless support. Your presence on our special day means more to us than words can express.',
                'parents': 'PARENTS', 'godparents': 'GODPARENTS',
                'parents-1': 'Mariana & Grigore Istrate', 'parents-2': 'Carmen & Iulian Bostan', 'godparents-names': 'Claudia & Dan Bǎcanu',
                'ceremony-title': 'The Ceremony', 'ceremony-church': 'Biserica Sfânta Treime', 'ceremony-addr': 'CALEA 13 SEPTEMBRIE 211, BUCUREȘTI', 'ceremony-time': '2:45 PM',
                'party-title': 'The Celebration', 'party-venue': 'Lagoo Snagov, Salon Luna', 'party-time': '7:30 PM', 'party-addr': 'DJ101B, COMUNA SNAGOV 077165',
                'rsvp-title': 'RSVP', 'rsvp-deadline': 'Kindly respond by August 1st, 2026',
                'label-guests': 'Total Number of Guests', 'opt-1person': '1 Person', 'opt-2people': '2 People',
                'guest-one': 'GUEST ONE', 'guest-two': 'GUEST TWO',
                'first-name': 'First Name', 'family-name': 'Family Name', 'menu-choice': 'Menu Choice',
                'opt-standard': 'Standard Menu', 'opt-vegetarian': 'Vegetarian Menu',
                'label-children': 'Number of Children', 'submit-btn': 'SUBMIT RSVP', 'sending': 'SENDING...',
                'thank-you': 'We have received your answer. Thank you!',
                'placeholder-first': 'Enter first name...', 'placeholder-family': 'Enter family name...',
                'error-msg': 'The response was not received. Please contact us at +40787687653.',
                'error-details': 'Please try again later or contact us directly on WhatsApp.'
            },
            'ro': {
                'title': 'Invitație Nuntă | Ana & Codrin',
                'nav-home': 'ACASĂ', 'nav-story': 'POVESTEA', 'nav-details': 'DETALII', 'nav-rsvp': 'RSVP',
                'tap-to-unveil': 'APASĂ PENTRU A DEZVĂLUI', 'wedding-of': 'INVITAȚIE NUNTǍ',
                'couple-names': 'Ana & Codrin',
                'hero-date': 'SÂMBĂTĂ, 12 SEPTEMBRIE 2026', 'hero-date-short': '12 . 09 . 2026',
                'days': 'Zile', 'hours': 'Ore', 'mins': 'Min', 'secs': 'Sec',
                'story-title': 'Sărbătorește alături de noi',
                'story-text': 'Alături de dragii noștri părinți și nași, vă invităm să ne fiți alături în momentul în care vom spune „DA” și vom porni împreună la drum. Ceea ce a început ca o simplă întâlnire s-a transformat într-o călătorie plină de râsete, aventură și sprijin necondiționat. Prezența voastră în această zi specială înseamnă mai mult pentru noi decât pot exprima cuvintele.',
                'parents': 'PĂRINȚI', 'godparents': 'NAȘI',
                'parents-1': 'Mariana & Grigore Istrate', 'parents-2': 'Carmen & Iulian Bostan', 'godparents-names': 'Claudia & Dan Bǎcanu',
                'ceremony-title': 'Cununia Religioasă', 'ceremony-church': 'Biserica Sfânta Treime', 'ceremony-addr': 'CALEA 13 SEPTEMBRIE 211, BUCUREȘTI', 'ceremony-time': '14:45',
                'party-title': 'Petrecerea', 'party-venue': 'Lagoo Snagov, Salon Luna', 'party-time': '19:30', 'party-addr': 'DJ101B, COMUNA SNAGOV 077165',
                'rsvp-title': 'Confirmare Rǎspuns', 'rsvp-deadline': 'Vă rugăm să răspundeți până la 1 august 2026',
                'label-guests': 'Număr total de invitați', 'opt-1person': '1 Persoană', 'opt-2people': '2 Persoane',
                'guest-one': 'INVITAT 1', 'guest-two': 'INVITAT 2',
                'first-name': 'Prenume', 'family-name': 'Nume de familie', 'menu-choice': 'Opțiune Meniu',
                'opt-standard': 'Meniu Standard', 'opt-vegetarian': 'Meniu Vegetarian',
                'label-children': 'Număr de copii', 'submit-btn': 'TRIMITE RĂSPUNSUL', 'sending': 'SE TRIMITE...',
                'thank-you': 'Am primit răspunsul tău. Mulțumim!',
                'placeholder-first': 'Introdu prenumele...', 'placeholder-family': 'Introdu numele...',
                'error-msg': 'Răspunsul nu a fost primit. Vă rugăm să ne contactați la +40787687653.',
                'error-details': 'Vă rugăm să încercați mai târziu sau să ne contactați direct pe WhatsApp.'
            }
        };

        function switchLang(lang) {
            currentLang = lang;
            document.title = translations[lang]['title'];
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                if (translations[lang][key]) {
                    if (el.tagName === 'OPTION') {
                        el.textContent = translations[lang][key];
                    }
                    else {
                        el.innerText = translations[lang][key];
                    }
                }
            });

            // Handle placeholders
            document.querySelectorAll('#f1, #f2').forEach(el => el.placeholder = translations[lang]['placeholder-first']);
            document.querySelectorAll('#l1, #l2').forEach(el => el.placeholder = translations[lang]['placeholder-family']);

            document.getElementById('lang-en').style.opacity = lang === 'en' ? '1' : '0.5';
            document.getElementById('lang-ro').style.opacity = lang === 'ro' ? '1' : '0.5';
        }

        function openEnvelope() {
            document.getElementById('envelope').classList.add('open');
            const music = document.getElementById('bgMusic');
            if (music && music.paused) { music.play().catch(() => { }); }

            setTimeout(() => {
                document.getElementById('stage-envelope').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('stage-envelope').style.display = 'none';
                    document.getElementById('fullInvite').style.display = 'flex';
                    document.querySelector('.top-nav').classList.add('visible');
                    setTimeout(() => {
                        document.getElementById('home').classList.add('revealed');
                    }, 300);
                }, 800);
            }, 3000);
        }

        function updateGuestFields() {
            const count = document.getElementById('guestCount').value;
            const g2 = document.getElementById('guest2Area');
            if (count === "2") {
                g2.style.display = 'block';
                document.getElementById('f2').required = true;
                document.getElementById('l2').required = true;
            } else {
                g2.style.display = 'none';
                document.getElementById('f2').required = false;
                document.getElementById('l2').required = false;
            }
        }

        const weddingDate = new Date("September 12, 2026 00:00:00").getTime();

        // Language detection (URL parameter, then Browser setting)
        const urlParams = new URLSearchParams(window.location.search);
        const langParam = urlParams.get('lang');
        const userLang = navigator.language || navigator.userLanguage;

        if (langParam === 'en' || (!langParam && userLang && userLang.toLowerCase().startsWith('en'))) {
            switchLang('en');
        } else {
            switchLang('ro');
        }

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = weddingDate - now;
            if (distance < 0) return;

            document.getElementById("days").innerText = Math.floor(distance / (1000 * 60 * 60 * 24));
            document.getElementById("hours").innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            document.getElementById("minutes").innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            document.getElementById("seconds").innerText = Math.floor((distance % (1000 * 60)) / 1000);
        }
        setInterval(updateCountdown, 1000);
        updateCountdown();

        document.getElementById('rsvpForm').addEventListener('submit', e => {
            e.preventDefault();
            const btn = document.getElementById('subBtn');
            btn.innerHTML = translations[currentLang]['sending'];
            btn.disabled = true;

            const data = {
                f1: document.getElementById('f1').value,
                l1: document.getElementById('l1').value,
                m1: document.getElementById('m1').value,
                f2: document.getElementById('f2').value,
                l2: document.getElementById('l2').value,
                m2: document.getElementById('m2').value,
                child: document.getElementById('child').value
            };

            fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'text/plain' },
                body: JSON.stringify(data)
            })
                .then(() => {
                    // no-cors responses are opaque — assume success if fetch didn't throw
                    document.getElementById('rsvpForm').style.display = 'none';
                    document.getElementById('thankYou').style.display = 'block';
                })
                .catch(err => {
                    console.error('RSVP Submission Error:', err);
                    const fullError = translations[currentLang]['error-msg'] + "\n\n" + translations[currentLang]['error-details'];
                    alert(fullError);
                    btn.disabled = false;
                    btn.innerHTML = translations[currentLang]['submit-btn'];
                });
        });

        document.querySelectorAll('.top-nav a').forEach(link => {
            link.addEventListener('click', e => {
                e.preventDefault();
                const target = document.querySelector(link.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>

</html>